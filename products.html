<!DOCTYPE html>
<html lang="en">

<head>
	<title>Cape Climate</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1.0">
	
    <link href="https://fonts.googleapis.com/css?family=Quicksand" rel="stylesheet">
	<link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css" rel="stylesheet">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<link rel="stylesheet" href="css/main2.css">
	<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
	<link rel="icon" 
      type="image/png"
      href="https://raw.githubusercontent.com/Andre-Meintjes/cape-climate/master/img/g4819.png" />
</head>

<body>
	<header>
    <nav class="navbar navbar-fixed-top">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">Menu <i class="fa fa-bars"></i></button>
                <a class="navbar-left navbar-brand btn btn-default" href="#"><i class="fa fa-bullhorn"></i>  Get in touch</a>
            </div>
            <div class="navbar-right navbar-collapse collapse" id="myNavbar">
                <ul class="nav navbar-nav" style="padding-right: 10px; padding-left: 10px;">
					<li class="hidden-sm hidden-md hidden-lg"><a style="text-align: right" data-toggle="collapse" data-target="#myNavbar">X</a></li>
                    <li><a href="index.html">Home</a></li>
					<li><a href="#">What we do</a></li>
                    <li><a href="#">Our work</a></li> 
					<li><a class="active" href="products.html">Products</a></li>
                    <li><a href="#">About</a></li> 
					<li><a href="#">Contact us</a></li> 
                </ul>
            </div>
        </div>
    </nav>
	</header>
	<div class="container-fluid body-cover">
        <div class="row product-content" style="height: 100%">
            <div class="col-xs-12 col-md-2 brands">
                <h4>Filter by brand</h4>
                <ul class="nav nav-pills nav-stacked">
                    <li><a id="all-brand" class="filter-by-brand" onclick="selectBrand('all')">All</a></li>
                    <li><a id="samsung" class="filter-by-brand" onclick="selectBrand('samsung')">Samsung</a></li>
                    <li><a id="lg" class="filter-by-brand" onclick="selectBrand('lg')">LG</a></li>
                    <li><a id="daikin" class="filter-by-brand" onclick="selectBrand('daikin')">Daikin</a></li>
                    <li><a id="midea" class="filter-by-brand" onclick="selectBrand('midea')">Midea</a></li>
                    <li><a id="alliance" class="filter-by-brand" onclick="selectBrand('alliance')">Alliance</a></li>
                    <li><a id="york" class="filter-by-brand" onclick="selectBrand('york')">York</a></li>
                </ul>
                <h4>Filter by type</h4>
                <ul class="nav nav-pills nav-stacked">
                    <li><a id="all-type" class="filter-by-type" onclick="selectType('all')">All</a></li>
                    <li><a id="split" class="filter-by-type" onclick="selectType('split')">Split</a></li>
                    <li><a id="cassette" class="filter-by-type" onclick="selectType('cassette')">Cassette</a></li>
                    <li><a id="underceiling" class="filter-by-type" onclick="selectType('underceiling')">Under-ceiling</a></li>
                    <li><a id="ducted" class="filter-by-type" onclick="selectType('ducted')">Ducted</a></li>
                    <li><a id="console" class="filter-by-type" onclick="selectType('console')">Console</a></li>
                    <li><a id="portable" class="filter-by-type" onclick="selectType('portable')">Portable</a></li>
                    <li><a id="floorstanding" class="filter-by-type" onclick="selectType('floorstanding')">Floor-standing</a></li>
                </ul>
            </div>
            <div class="col-xs-12 col-md-10">
                <div id="products" class="container-fluid product-panel">
                    <!-- content by js -->
                    <div class="row center-text">
                        <div class="col-xs-12 col-md-4 product-card">
                            <div class="product-header">
                                <h4>brand</h4>
                                <h3>model</h3>
                            </div>
                            <div class="product-image" style="background-image:url('')">image</div>
                            <div class="product-card-content">
                                <p>description</p>
                                <p>compressor</p>
                                <p>size</p>
                            </div>
                    </div>
                    <!-- content by js -->        
                </div>
            </div>
	    </div>
</body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script>
/** Products **/
var products = [
  {
    "brand": "samsung",
    "model": "Cassette",
    "type": "cassette",
    "url": "/img/samsung-cassette.jpg",
    "compressor": "Inverter/non-Inverter",
    "size": ["9","12","18","20","24","36","48"],
    "description": "Compact and out of the way. Four way wind direction for efficient air distribution."
  },
  {
    "brand": "samsung",
    "model": "360 Cassette",
    "type": "cassette",
    "url": "/img/samsung-cassette-round.jpg",
    "compressor": "Inverter",
    "size": ["24","30","36","42","48"],
    "description": "Worldâ€™s first truly round design. Booster fans for extra airflow distribution"
  },
  {
    "brand": "samsung",
    "model": "Ducted",
    "type": "duct",
    "url": "/img/samsung-duct.jpg",
    "compressor": "Inverter",
    "size": ["24","36","48","60","72","76","96"],
    "description": "Powerful and efficient. Perfect for big spaces, homes and offices. "
  },
  {
    "brand": "samsung",
    "model": "Maldives",
    "type": "split",
    "url": "/img/samsung-maldives.jpg",
    "compressor": "Inverter",
    "size": ["9","12","18","24"],
    "description": "Quiet and eco-friendly. Save on your energy bill with inverter technology. Full HD filter."
  },
  {
    "brand": "samsung",
    "model": "Boracay",
    "type": "split",
    "url": "/img/samsung-boracay.jpg",
    "compressor": "non-Inverter",
    "size": ["9","12","18","24"],
    "description": "Powerfull cooling and heating. Full HD Filter and anti corrosion fin."
  },
  {
    "brand": "samsung",
    "model": "Q9000",
    "type": "floorstanding",
    "url": "/img/samsung-floor-standing.jpg",
    "compressor": "Inverter",
    "size": ["28"],
    "description": "Sleek & Stylish. Energy efficient inverter compressor, Magnetic air filtration and Virus Doctor."
  },
  {
    "brand": "lg",
    "model": "M-range",
    "type": "split",
    "url": "/img/lg-m-range.jpg",
    "compressor": "Inverter",
    "size": ["9","12","18","24"],
    "description": "Sleek & quiet. Eco-friendly Digital Inverter technology. Turbo fan mode for fast cooling."
  },
  {
    "brand": "lg",
    "model": "Cassette",
    "type": "cassette",
    "url": "/img/lg-cassette.jpg",
    "compressor": "Inverter/non-Inverter",
    "size": ["18","24","36","48"],
    "description": "Quiet with Smart Inverter technology. Clean air filtration system. Four way airflow with independent vane operation."
  },
  {
    "brand": "lg ",
    "model": "Artcool",
    "type": "split",
    "url": "/img/lg-artcool-black",
    "compressor": "Inverter",
    "size": ["9","12","18","24"],
    "description": "Cover your whole home/office with one unit. Weekly timer program."
  },
  {
    "brand": "york",
    "model": "High wall split",
    "type": "split",
    "url": "/img/york-split.jpg",
    "compressor": "Inverter",
    "size": ["9","12","18","24"],
    "description": "Quiet and safe. Energy efficient digital Inverter compressor for maximum savings."
  },
  {
    "brand": "york",
    "model": "Cassette",
    "type": "cassette",
    "url": "/img/york-cassette.jpg",
    "compressor": "Inverter",
    "size": ["12","18","24","36","48","55"],
    "description": "Clean air filtration system. Four way airflow with autot vane operation."
  },
  {
    "brand": "york",
    "model": "Ducted",
    "type": "duct",
    "url": "/img/york-duct.jpg",
    "compressor": "Inverter/non-Inverter",
    "size": ["12","18","24","36","48","60"],
    "description": "Hidden and quiet. Ideal for buildings with big floors or homes."
  },
  {
    "brand": "york",
    "model": "Underceiling",
    "type": "underceiling",
    "url": "/img/york-underceiling.jpg",
    "compressor": "Inverter/non-Inverter",
    "size": ["12","18","24","36","48","55"],
    "description": "Powerful fan makes it perfect for long spaces. Can be wall-mounted too. "
  },
  {
    "brand": "york",
    "model": "Console",
    "type": "console",
    "url": "/img/york-console.jpg",
    "compressor": "Inverter/non-Inverter",
    "size": ["9","13","15","18"],
    "description": "Complete unit. Fits into wall. Great for offices with exsternal walls."
  },
  {
    "brand": "york",
    "model": "Floor standing",
    "type": "floorstanding",
    "url": "/img/york-floorstanding.jpg",
    "compressor": "non-Inverter",
    "size": ["55"],
    "description": "Ideal for glass buildings/offices with limited wall space. Best suited for big spaces."
  },
  {
    "brand": "midea",
    "model": "Neola",
    "type": "split",
    "url": "/img/midea-neola.jpg",
    "compressor": "Inverter/non-Inverter",
    "size": ["9","12","18","24","32"],
    "description": "Affordable quality. Energy effiecent Inverter compressor. Auto swing mode."
  },
  {
    "brand": "midea",
    "model": "Portable",
    "type": "portable",
    "url": "/img/midea-portable",
    "compressor": "non-Inverter",
    "size": ["12"],
    "description": "Perfect for temporary placement or server room backup."
  },
  {
    "brand": "midea",
    "model": "Cassette",
    "type": "cassette",
    "url": "/img/midea-cassette.jpg",
    "compressor": "Inverter/non-Inverter",
    "size": ["12","18","24","36","48","60"],
    "description": "Well suited for offices,boardroom or open floors. Big capacity models available."
  },
  {
    "brand": "midea",
    "model": "Underceiling",
    "type": "underceiling",
    "url": "/img/midea-underceiling.jpg",
    "compressor": "Inverter/non-Inverter",
    "size": ["24","36","48","60"],
    "description": "Powerful and efficient,ideal for big spaces. Can be wall-mounted too. "
  },
  {
    "brand": "alliance",
    "model": "INAA32",
    "type": "split",
    "url": "/img/alliance-inaa.jpg",
    "compressor": "Inverter",
    "size": ["29"],
    "description": "Sleek and eco-friendly. Hidden LED display for temperature. Energy saving Eco mode with sleep and auto restart."
  },
  {
    "brand": "alliance",
    "model": "Atlantic",
    "type": "split",
    "url": "/img/alliance-atlantic.jpg",
    "compressor": "non-Inverter",
    "size": ["9","12","18","24","32"],
    "description": "Cost-effective. Perfect for home and office use.Swing mode and 3 fan speeds."
  },
  {
    "brand": "alliance",
    "model": "Caspien",
    "type": "split",
    "url": "/img/alliance-caspien.jpg",
    "compressor": "Inverter",
    "size": ["9","12","18","24"],
    "description": "Energy efficient Inverter technology. LED temperature display. Swing mode for better air distribution."
  },
  {
    "brand": "alliance",
    "model": "Underceiling",
    "type": "underceiling",
    "url": "/img/alliance-underceiling.jpg",
    "compressor": "Inverter/non-Inverter",
    "size": ["36","48","60"],
    "description": "Powerful cooling/heating,ideal for big spaces or server rooms. Can be wall-mounted too. "
  },
  {
    "brand": "alliance",
    "model": "Ducted",
    "type": "duct",
    "url": "/img/alliance-duct.jpg",
    "compressor": "Inverter/non-Inverter",
    "size": ["36","48","60","96","150","205"],
    "description": "Hidden and powerfull. Covers multiple rooms. Fresh cappable."
  },
  {
    "brand": "alliance",
    "model": "Portable",
    "type": "portable",
    "url": "/img/alliance-portable.jpg",
    "compressor": "non-Inverter",
    "size": ["12"],
    "description": "Portable with wheels. 12 000 BTU cooling/heating capacity. Auto swing. Runs off a 220v mains plug."
  },
  {
    "brand": "alliance",
    "model": "Cassette",
    "type": "cassette",
    "url": "/img/alliance-cassette.jpg",
    "compressor": "Inverter/non-Inverter",
    "size": ["12","18","24","36","48","60"],
    "description": "Covers a big space, Four way airflow for maximum cooling/heating."
  },
  {
    "brand": "daikin",
    "model": "Emura",
    "type": "split",
    "url": "/img/daikin-split.jpg",
    "compressor": "Inverter",
    "size": ["9","12","18","24"],
    "description": "Daikin Emura has been awarded many times, thanks to its excellent design. Whisper quiet, available in white and silver."
  }
];
/** Directory **/
var dir = "https://raw.githubusercontent.com/Andre-Meintjes/cape-climate/master";
/** Active filter selection**/
var filterBrand = "all";
var filterType = "all";
var filterSize = "all";
/** ------- **/
var sizeBTU = ["9","12","13","15","18","24","28","29","30","32","36","42","48","55","60","72","76","96","150","205"];

function createHTML(brand, model, url, description, compressor, size){
    return '<div class="row center-text"><div class="col-xs-12 col-md-4 product-card"><div class="product-header"><h4>' + brand
    + '</h4><h3>' + model
    + '</h3></div><div class="product-image" style="background-image:url(\'' + dir + url 
    + '\')"></div><div class="product-card-content"><p>' + description
    + '</p><p>' + compressor
    + '</p><p>' + size
    + '</p></div></div>';
}
function renderHTML(createdHtml){
    document.getElementById('products').innerHTML = createdHtml;
}
function selectProducts(brand, type, size){
    clearPanel();
    var createdHTML = '';
    var selectedProducts = [];
    // select by brand
    if (brand == "all" && type == "all" && size == "all"){
        selectedProducts = products;
    } else if (brand == "all" && type == "all"){
        selectBySize(size);
    } else if (brand == "all" && size == "all"){
        selectByOneParamater(["type", type]);
    } else if (type == "all" && size == "all"){
        selectByOneParamater(["brand", brand], products);
    } else if (brand == "all"){
        selectBySize(size);
        selectByOneParamater(["type", type], selectedProducts);
    }
     else if (type == "all"){
        selectBySize(size);
        selectByOneParamater(["brand", type], selectedProducts);
    } else if (size == "all"){
        selectByTwoParamaters(["brand", brand], ["type", type], Products);
    }
    function selectByOneParamater(x, arr){
        var propName = x[0];
        var propValue = x[1];
        for (var i = 0; i < arr.length; i++){
            if (arr[i].propName == propValue){
                selectedProducts.push(arr[i]);
            }
        }    
    }
    function selectByTwoParamaters(x, y, arr){
        var propNameX = x[0];
        var propValueX = x[1];
        var propNameY = y[0];
        var propValueY = y[1];
        for (var i = 0; i < arr.length; i++){
            if (arr[i].propNameX == propValueX && arr[i].propNameY == propValueY){
                selectedProducts.push(arr[i]);
            }
        }
    }
    function selectBySize(x){
        for (var i = 0; i < products.length; i++){
            if (products[i].size.indexOf(x) >= 0){
                selectedProducts.push(products[i]);
            }
        }         
    }
    for (var i = 0; i < selectedProducts.length; i++){
        var size = 'Available in ';
        for (var k = 0; k < selectedProducts[i].size.length - 1; k++){
            if (k == (selectedProducts[i].size.length - 2)){
            size += selectedProducts[i].size[k] + ' and ' + selectedProducts[i].size[k + 1]  
            } else {
                size += selectedProducts[i].size[k] + ', '
            }
        }

        createdHTML += createHTML(selectedProducts[i].brand, selectedProducts[i].model, selectedProducts[i].url, selectedProducts[i].description, selectedProducts[i].compressor, size)
    }
    
    renderHTML(createdHTML);
}
function selectBrand(brand){
    filterBrand = brand;
    selectProducts(filterBrand, filterType, filterSize);
}
function selectType(type){
    filterType = type;
    selectProducts(filterBrand, filterType, filterSize);
}
function selectSize(size){
    filterSize = size;
    selectProducts(filterBrand, filterType, filterSize);
}

function clearPanel(){
    document.getElementById('products').innerHTML = '';
    $('.filter-by-brand').removeClass('active');
}
</script>
<script>
/** url listner **/
$(document).ready(function(){
    var url = location.href;
    var urlParam = url.substring(url.indexOf('?') + 1);
    console.log(urlParam);
    switch (urlParam){
        case 'samsung': 
            selectBrand('samsung');
            break;
        case 'lg' :
            selectBrand('lg');
            break;
        case 'daikin' :
            selectBrand('daikin');
            break;
        case 'midea' :
            selectBrand('midea');
            break;
        case 'alliance' :
            selectBrand('alliance');
            break;
        case 'york' :
            selectBrand('york');
            break;
        default : selectBrand('all');
    }

});
</script>

</html>
